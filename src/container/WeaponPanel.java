/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package container;

import constants.KEY;
import java.awt.event.KeyAdapter;
import java.awt.event.KeyEvent;
import javax.swing.text.Document;
import util.Bundle;
import util.JText;
import util.KeyReader;

/**
 *
 * @author Kendrick
 */
public class WeaponPanel extends javax.swing.JPanel implements CardDataHolder{

    /**
     * Creates new form WeaponPanel
     */
    public WeaponPanel() {
        initComponents();
        JText.addTabFocusChanger(txt_weapon_name);
        JText.addTabFocusChanger(txt_weapon_damage_roll);
        JText.addTabFocusChanger(txt_weapon_damage_type);
        JText.wrapWord(txt_weapon_name);
        JText.wrapWord(txt_weapon_damage_roll);
        JText.wrapWord(txt_weapon_damage_type);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        lbl_weapon_name = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        txt_weapon_name = new javax.swing.JTextArea();
        lbl_damage_roll = new javax.swing.JLabel();
        jScrollPane5 = new javax.swing.JScrollPane();
        txt_weapon_damage_roll = new javax.swing.JTextArea();
        lbl_damage_type = new javax.swing.JLabel();
        jScrollPane7 = new javax.swing.JScrollPane();
        txt_weapon_damage_type = new javax.swing.JTextArea();
        jPanel2 = new javax.swing.JPanel();
        lbl_damage_type1 = new javax.swing.JLabel();
        lbl_dmg_bonus_total = new javax.swing.JLabel();
        jPanel5 = new javax.swing.JPanel();
        jPanel11 = new javax.swing.JPanel();
        jPanel20 = new javax.swing.JPanel();
        jLabel9 = new javax.swing.JLabel();
        lbl_dmg_str_bonus = new javax.swing.JLabel();
        jPanel21 = new javax.swing.JPanel();
        jLabel11 = new javax.swing.JLabel();
        txt_weapon_damage_bonus = new javax.swing.JTextField();
        jPanel7 = new javax.swing.JPanel();
        lbl_damage_type3 = new javax.swing.JLabel();
        lbl_attk_bonus_total = new javax.swing.JLabel();
        jPanel8 = new javax.swing.JPanel();
        jPanel18 = new javax.swing.JPanel();
        jLabel6 = new javax.swing.JLabel();
        lbl_attk_str_bonus = new javax.swing.JLabel();
        jPanel19 = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        txt_weapon_attk_bonus = new javax.swing.JTextField();

        setLayout(new java.awt.GridLayout(5, 2));

        lbl_weapon_name.setText("Weapon Name");
        add(lbl_weapon_name);

        jScrollPane1.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        jScrollPane1.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);

        txt_weapon_name.setColumns(20);
        txt_weapon_name.setLineWrap(true);
        txt_weapon_name.setRows(5);
        txt_weapon_name.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                txt_weapon_nameKeyTyped(evt);
            }
        });
        jScrollPane1.setViewportView(txt_weapon_name);

        add(jScrollPane1);

        lbl_damage_roll.setText("Damage Roll");
        add(lbl_damage_roll);

        jScrollPane5.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        jScrollPane5.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);

        txt_weapon_damage_roll.setColumns(20);
        txt_weapon_damage_roll.setLineWrap(true);
        txt_weapon_damage_roll.setRows(5);
        jScrollPane5.setViewportView(txt_weapon_damage_roll);

        add(jScrollPane5);

        lbl_damage_type.setText("Damage Type");
        add(lbl_damage_type);

        jScrollPane7.setHorizontalScrollBarPolicy(javax.swing.ScrollPaneConstants.HORIZONTAL_SCROLLBAR_NEVER);
        jScrollPane7.setVerticalScrollBarPolicy(javax.swing.ScrollPaneConstants.VERTICAL_SCROLLBAR_NEVER);

        txt_weapon_damage_type.setColumns(20);
        txt_weapon_damage_type.setLineWrap(true);
        txt_weapon_damage_type.setRows(5);
        jScrollPane7.setViewportView(txt_weapon_damage_type);

        add(jScrollPane7);

        jPanel2.setLayout(new java.awt.BorderLayout());

        lbl_damage_type1.setText("Damage Bonus");
        jPanel2.add(lbl_damage_type1, java.awt.BorderLayout.PAGE_START);

        lbl_dmg_bonus_total.setText("Total = 0");
        jPanel2.add(lbl_dmg_bonus_total, java.awt.BorderLayout.PAGE_END);

        add(jPanel2);

        jPanel5.setLayout(new javax.swing.BoxLayout(jPanel5, javax.swing.BoxLayout.X_AXIS));

        jPanel11.setLayout(new javax.swing.BoxLayout(jPanel11, javax.swing.BoxLayout.X_AXIS));

        jPanel20.setLayout(new java.awt.BorderLayout());

        jLabel9.setText("STR");
        jPanel20.add(jLabel9, java.awt.BorderLayout.PAGE_START);

        lbl_dmg_str_bonus.setText("0");
        jPanel20.add(lbl_dmg_str_bonus, java.awt.BorderLayout.CENTER);

        jPanel11.add(jPanel20);

        jPanel21.setLayout(new java.awt.BorderLayout());

        jLabel11.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel11.setText("Extra");
        jPanel21.add(jLabel11, java.awt.BorderLayout.PAGE_START);

        txt_weapon_damage_bonus.setText("0");
        jPanel21.add(txt_weapon_damage_bonus, java.awt.BorderLayout.CENTER);

        jPanel11.add(jPanel21);

        jPanel5.add(jPanel11);

        add(jPanel5);

        jPanel7.setLayout(new java.awt.BorderLayout());

        lbl_damage_type3.setText("Attack  Bonus");
        jPanel7.add(lbl_damage_type3, java.awt.BorderLayout.PAGE_START);

        lbl_attk_bonus_total.setText("Total = 0");
        jPanel7.add(lbl_attk_bonus_total, java.awt.BorderLayout.PAGE_END);

        add(jPanel7);

        jPanel8.setLayout(new javax.swing.BoxLayout(jPanel8, javax.swing.BoxLayout.X_AXIS));

        jPanel18.setLayout(new java.awt.BorderLayout());

        jLabel6.setText("STR");
        jPanel18.add(jLabel6, java.awt.BorderLayout.PAGE_START);

        lbl_attk_str_bonus.setText("0");
        jPanel18.add(lbl_attk_str_bonus, java.awt.BorderLayout.CENTER);

        jPanel8.add(jPanel18);

        jPanel19.setLayout(new java.awt.BorderLayout());

        jLabel7.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel7.setText("Extra");
        jPanel19.add(jLabel7, java.awt.BorderLayout.PAGE_START);

        txt_weapon_attk_bonus.setText("0");
        jPanel19.add(txt_weapon_attk_bonus, java.awt.BorderLayout.CENTER);

        jPanel8.add(jPanel19);

        add(jPanel8);
    }// </editor-fold>//GEN-END:initComponents

    private void txt_weapon_nameKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txt_weapon_nameKeyTyped

    }//GEN-LAST:event_txt_weapon_nameKeyTyped


    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel11;
    private javax.swing.JPanel jPanel18;
    private javax.swing.JPanel jPanel19;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel20;
    private javax.swing.JPanel jPanel21;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane5;
    private javax.swing.JScrollPane jScrollPane7;
    private javax.swing.JLabel lbl_attk_bonus_total;
    private javax.swing.JLabel lbl_attk_str_bonus;
    private javax.swing.JLabel lbl_damage_roll;
    private javax.swing.JLabel lbl_damage_type;
    private javax.swing.JLabel lbl_damage_type1;
    private javax.swing.JLabel lbl_damage_type3;
    private javax.swing.JLabel lbl_dmg_bonus_total;
    private javax.swing.JLabel lbl_dmg_str_bonus;
    private javax.swing.JLabel lbl_weapon_name;
    public javax.swing.JTextField txt_weapon_attk_bonus;
    public javax.swing.JTextField txt_weapon_damage_bonus;
    public javax.swing.JTextArea txt_weapon_damage_roll;
    public javax.swing.JTextArea txt_weapon_damage_type;
    public javax.swing.JTextArea txt_weapon_name;
    // End of variables declaration//GEN-END:variables


    @Override
    public Document extractDocument(String key) {
        switch(key){
            case KEY.K_WEAPON_NAME:return txt_weapon_name.getDocument();
            case KEY.K_WEAPON_DESCRIPTION:return txt_weapon_damage_type.getDocument();
            case KEY.K_WEAPON_DMG_BONUS:return txt_weapon_damage_bonus.getDocument();
            case KEY.K_WEAPON_ATTK_BONUS:return txt_weapon_attk_bonus.getDocument();
            case KEY.K_WEAPON_DMG_ROLL:return txt_weapon_damage_roll.getDocument();
        }
        return null;
    }

    @Override
    public void putDocument(String key, String value) {
        switch(KeyReader.getLowKey(key)){
            case KEY.L_NAME:txt_weapon_name.setText(value);break;
            case KEY.L_DESCRIPTION:txt_weapon_damage_type.setText(value);break;
            case KEY.L_DMG_BONUS:txt_weapon_damage_bonus.setText(value);break;
            case KEY.L_DMG_ROLL:txt_weapon_damage_roll.setText(value);break;
            case KEY.L_ATTK_BONUS:txt_weapon_attk_bonus.setText(value);break;
        }
    }

    void updateValues(int strMod, int prof) {
        int extraDmg = Integer.parseInt(txt_weapon_damage_bonus.getText());
        int extraAttk = Integer.parseInt(txt_weapon_attk_bonus.getText());
        
        int totalDmg = strMod + extraDmg;
        int totalAttk = strMod + + prof + extraAttk;
        
        lbl_attk_bonus_total.setText(Integer.toString(totalAttk));
        lbl_dmg_bonus_total.setText(Integer.toString(totalDmg));
    }

    
    @Override
    public void getData(Bundle b) {
    }

    @Override
    public void update(Bundle b) {
    }
    
    
}
